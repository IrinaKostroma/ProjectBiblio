# Проект “Частная библиотека”

Наполнение библиотеки происходит импортом книг по тегам, от 1 до n тегов
Данные берутся по ссылке по ссылке https://api.itbook.store/

Пример:
- `docker exec -it biblio_book_service_1 /bin/sh`
- `python -m composites.cli import-books Reference Python`

По одному тегу импортируется <= 50 книг.
После каждой загрузки происходит рассылка всем пользователям ТОП-3 книг по рейтингу с сортировкой по возрастанию года издания.
На данный момент рассылка реализована как вывод на экран.

В проекте реализована регистрация пользователя. 
Все эндпоинты кроме регистрации и авторизации пользователя требуют аутентификации.

Действия пользователя:
- Получить список книг. Фильтр по цене/ключевому слову/автору/издателю. Сортировка по цене/размеру.
- Получить полную информацию по книге.
- Забронировать книгу на промежуток времени. Нельзя забронировать уже забронированную книгу.
- Закрыть бронирование книги.
- Выкупить книгу. Можно выкупить только забронированную книгу.
- Получить список ранее взятых книг.
- Получить активную книгу.

URL для запросов:
- `GET 0.0.0.0:80/api/books/all_books` - получить информации о всех книгах
- `GET 0.0.0.0:80/api/books/get_by_isbn13?isbn13=9781788623322` - получение информации о книге по isbn13  
- `GET 0.0.0.0:80/api/books/search` - поиск информации о книгах по ключам `authors`, `publisher`, `key`, `min`, `max`, `order_by_price`, `order_by_size`  
- `POST 0.0.0.0:80/api/books/take_book` - забронировать книгу по `isbn13` и `user_id`
- `POST 0.0.0.0:80/api/books/return_book` - закрыть бронирование книги по `isbn13` и `user_id`
- `POST 0.0.0.0:80/api/books/buy_book` - купить книгу по `isbn13` и `user_id`
- `POST 0.0.0.0:80/api/users/registration` - регистрация пользователя по `name`, `login`, `password` 
- `POST 0.0.0.0:80/api/users/login` - авторизация пользователя по `login`, `password`
- `GET 0.0.0.0:80/api/users/all_users` - информация о всех пользователях
- `GET 0.0.0.0:80/api/users/show_info?user_id=1` - информация о пользователе по `user_id`
- `GET 0.0.0.0:80/api/users/active_book?user_id=2` - получить активную книгу пользователя с `user_id`
- `GET 0.0.0.0:80/api/users/taken_books?user_id=1` - получить список ранее взятых книг пользователя с `user_id`
